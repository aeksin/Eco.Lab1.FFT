ifeq ($(TARGET), 1)
OUT_TARGET = EcoLab2
ifeq ($(DEBUG), 1)
CONFIG_TARGET = StaticDebug
CCFLAGS_TARGET = -Wall -O0 -g -DECO_LIB
LDFLAGS_TARGET =
else
CONFIG_TARGET = StaticRelease
CCFLAGS_TARGET = -O0 -DECO_LIB
LDFLAGS_TARGET =
endif
else
OUT_TARGET = EcoLab2
ifeq ($(DEBUG), 1)
CONFIG_TARGET = DynamicDebug
CCFLAGS_TARGET = -Wall -O0 -g -DECO_DLL
LDFLAGS_TARGET = 
else
CONFIG_TARGET = DynamicRelease
CCFLAGS_TARGET = -O0 -DECO_DLL
LDFLAGS_TARGET = 
endif
endif

# source files.
SRC = \
../../../UnitTestFiles/SourceFiles/EcoLab2.c


# include directories
INCLUDES = \
-I ../../../HeaderFiles \
-I ../../../SharedFiles \
-I ../../../../Lab1/SharedFiles \
-I ../../../../Lessons/Lesson02/Eco.CalculatorA/SharedFiles \
-I ../../../../Lessons/Lesson03/Eco.CalculatorB/SharedFiles \
-I ../../../../Lessons/Lesson06/Eco.CalculatorD/SharedFiles \
-I ../../../../Lessons/Lesson07/Eco.CalculatorE/SharedFiles \
-I ../../../../Lessons/Lesson02/Eco.CalculatorA/SourceFiles \
-I ../../../../Lessons/Lesson03/Eco.CalculatorB/SourceFiles \
-I ../../../../Lessons/Lesson06/Eco.CalculatorD/SourceFiles \
-I ../../../../Lessons/Lesson07/Eco.CalculatorE/SourceFiles \
-I ../../../../Lessons/Lesson02/Eco.CalculatorA/HeaderFiles \
-I ../../../../Lessons/Lesson03/Eco.CalculatorB/HeaderFiles \
-I ../../../../Lessons/Lesson06/Eco.CalculatorD/HeaderFiles \
-I ../../../../Lessons/Lesson07/Eco.CalculatorE/HeaderFiles \
-I ../../../../LabSharedFiles \
-I ../../../UnitTestFiles/HeaderFiles \
-I $(ECO_FRAMEWORK)/Eco.Core1/SharedFiles \
-I $(ECO_FRAMEWORK)/Eco.InterfaceBus1/SharedFiles \
-I $(ECO_FRAMEWORK)/Eco.FileSystemManagement1/SharedFiles \
-I $(ECO_FRAMEWORK)/Eco.MemoryManager1/SharedFiles
# libraries directories
LIB_DIR = \
-L ../../../BuildFiles/Linux/x86_64/$(CONFIG_TARGET) \
-L $(ECO_FRAMEWORK)/Eco.InterfaceBus1/BuildFiles/Linux/x86_64/StaticRelease \
-L $(ECO_FRAMEWORK)/Eco.FileSystemManagement1/BuildFiles/Linux/x86_64/StaticRelease \
-L $(ECO_FRAMEWORK)/Eco.MemoryManager1/BuildFiles/Linux/x86_64/StaticRelease \
-L $(ECO_FRAMEWORK)/Eco.System1/BuildFiles/Linux/x86_64/StaticRelease 

OBJ = $(SRC:.c=.o)

OUT = $(OUT_TARGET)
OUT_DIR = ../../../BuildFiles/Linux/x86_x64/$(CONFIG_TARGET)

# C++ compiler flags (-g -O2 -Wall)
CCFLAGS = $(CCFLAGS_TARGET) -DLINUX -DUGUID_UTILITY -DECO_LINUX -DECO_X86_64

# compiler
GNU =
CC = gcc
AR = gcc-ar

ifeq ($(TARGET), 1)
LIBS_TARGET=-lA3C8F12B94D74E1A87C26F1B44D9E7C1
else
LIBS_TARGET=
endif

# library paths
LIBS = $(LIB_DIR) -lfftw3 -lm -l00000000000000000000000053595333 -l00000000000000000000000042757331 -l0000000000000000000000004D656D31 -l00000000000000000000000046534D31 $(LIBS_TARGET) -lX11 -lm -lc -lgcc -ldl -lGL -LGLX

# compile flags
LDFLAGS = $(LDFLAGS_TARGET) $(LIBS)

.SUFFIXES: .c

.c.o:
	$(CC) $(INCLUDES) $(CCFLAGS) -c $< -o $@

$(OUT): $(OBJ)
	mkdir -p $(OUT_DIR)
	$(CC) -std=c89 ${LDFLAGS} -o $(OUT_DIR)/$(OUT) $(OBJ) $(LDFLAGS)
	rm $(OBJ)

clean:
	rm $(OBJ) $(OUT_DIR)/$(OUT)

